<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ³Ø¬ÙŠÙ„ Ø´Ø±ÙƒØ© - INOVATION GROUP</title>
    <link rel="stylesheet" href="assets/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="auth-container" style="max-width: 600px;">
        <div class="auth-header">
            <i class="fas fa-building"></i>
            <h1>ØªØ³Ø¬ÙŠÙ„ Ø´Ø±ÙƒØ© Ø¬Ø¯ÙŠØ¯Ø©</h1>
            <p>Ø§Ù†Ø¶Ù… Ø¥Ù„Ù‰ Ù…Ù†ØµØªÙ†Ø§ ÙƒØ´Ø±ÙƒØ© ÙˆØ§Ø³ØªÙØ¯ Ù…Ù† Ø®Ø¯Ù…Ø§ØªÙ†Ø§ Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„Ø©</p>
        </div>

        <div class="auth-body">
            <form id="companyRegisterForm">
                <h3 style="margin-bottom: 1rem; color: var(--primary);">Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ø±ÙƒØ©</h3>
                
                <div class="form-group">
                    <label for="companyName">Ø§Ø³Ù… Ø§Ù„Ø´Ø±ÙƒØ©</label>
                    <input type="text" id="companyName" class="form-control" placeholder="Ø§Ø³Ù… Ø§Ù„Ø´Ø±ÙƒØ© Ø§Ù„Ø±Ø³Ù…ÙŠ" required
                           oninput="this.value = this.value.replace(/[0-9]/g, '')">
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="commercialId">Ø±Ù‚Ù… Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„ØªØ¬Ø§Ø±ÙŠ</label>
                        <input type="text" id="commercialId" class="form-control" placeholder="Ø±Ù‚Ù… Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„ØªØ¬Ø§Ø±ÙŠ" required>
                    </div>
                    <div class="form-group">
                        <label for="taxId">Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø¶Ø±ÙŠØ¨ÙŠ</label>
                        <input type="text" id="taxId" class="form-control" placeholder="Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø¶Ø±ÙŠØ¨ÙŠ">
                    </div>
                </div>

                <div class="form-group">
                    <label for="activityType">Ù†ÙˆØ¹ Ø§Ù„Ù†Ø´Ø§Ø·</label>
                    <input type="text" id="activityType" class="form-control" placeholder="Ù†ÙˆØ¹ Ø§Ù„Ù†Ø´Ø§Ø· Ø§Ù„ØªØ¬Ø§Ø±ÙŠ" required>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="countryCode">Ø§Ù„Ø¯ÙˆÙ„Ø©</label>
                        <select id="countryCode" class="form-control" required>
                            <option value="+20">ğŸ‡ªğŸ‡¬ Ù…ØµØ± (+20)</option>
                            <option value="+966">ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ© (+966)</option>
                            <option value="+971">ğŸ‡¦ğŸ‡ª Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª (+971)</option>
                            <option value="+965">ğŸ‡°ğŸ‡¼ Ø§Ù„ÙƒÙˆÙŠØª (+965)</option>
                            <option value="+974">ğŸ‡¶ğŸ‡¦ Ù‚Ø·Ø± (+974)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="companyPhone">Ù‡Ø§ØªÙ Ø§Ù„Ø´Ø±ÙƒØ©</label>
                        <input type="tel" id="companyPhone" class="form-control" placeholder="1000000001" required
                               oninput="this.value = this.value.replace(/[^0-9]/g, '')">
                    </div>
                </div>

                <div class="form-group">
                    <label for="companyAddress">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø´Ø±ÙƒØ©</label>
                    <input type="text" id="companyAddress" class="form-control" placeholder="Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø´Ø±ÙƒØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ" required>
                </div>

                <div class="form-group">
                    <label for="companyEmail">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø§Ù„Ø±Ø³Ù…ÙŠ</label>
                    <input type="email" id="companyEmail" class="form-control" placeholder="email@company.com" required>
                </div>

                <div class="form-group">
                    <label for="password">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
                    <input type="password" id="password" class="form-control" placeholder="ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ù‚ÙˆÙŠØ©" required>
                </div>

                <h3 style="margin: 2rem 0 1rem; color: var(--primary);">Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„</h3>

                <div class="form-group">
                    <label for="managerName">Ø§Ø³Ù… Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„</label>
                    <input type="text" id="managerName" class="form-control" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ Ø§Ù„ÙƒØ§Ù…Ù„" required
                           oninput="this.value = this.value.replace(/[0-9]/g, '')">
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="managerPhone">Ø±Ù‚Ù… Ù‡Ø§ØªÙ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„</label>
                        <input type="tel" id="managerPhone" class="form-control" placeholder="1000000001" required
                               oninput="this.value = this.value.replace(/[^0-9]/g, '')">
                    </div>
                    <div class="form-group">
                        <label for="managerJob">Ø§Ù„ÙˆØ¸ÙŠÙØ©</label>
                        <input type="text" id="managerJob" class="form-control" placeholder="Ø§Ù„Ù…Ø³Ù…Ù‰ Ø§Ù„ÙˆØ¸ÙŠÙÙŠ" required>
                    </div>
                </div>

                <div class="form-group">
                    <label for="managerEmail">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù„Ù„Ù…Ø³Ø¤ÙˆÙ„</label>
                    <input type="email" id="managerEmail" class="form-control" placeholder="email@company.com" required>
                </div>

                <h3 style="margin: 2rem 0 1rem; color: var(--primary);">Ù…Ø³ØªÙ†Ø¯Ø§Øª Ø§Ù„Ø´Ø±ÙƒØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</h3>

                <div class="form-group">
                    <label for="docTrade">Ø§Ù„Ø³Ø¬Ù„ Ø§Ù„ØªØ¬Ø§Ø±ÙŠ</label>
                    <input type="file" id="docTrade" class="form-control">
                </div>

                <div class="form-group">
                    <label for="docTax">Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ø¶Ø±ÙŠØ¨ÙŠ Ø£Ùˆ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø¶Ø±ÙŠØ¨ÙŠØ©</label>
                    <input type="file" id="docTax" class="form-control">
                </div>

                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-building"></i>
                    ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø´Ø±ÙƒØ©
                </button>
            </form>

            <div class="auth-links">
                <a href="login.html">Ù‡Ù„ Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ØŸ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</a>
            </div>

            <div class="back-home">
                <a href="index.html">
                    <i class="fas fa-arrow-right"></i>
                    Ø§Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
                </a>
            </div>
        </div>
    </div>

    <script src="assets/app.js"></script>
    <script>
        // Phone number formatting
        document.getElementById('companyPhone').addEventListener('input', function() {
            UIHelper.formatPhoneInput(this);
        });

        document.getElementById('managerPhone').addEventListener('input', function() {
            UIHelper.formatPhoneInput(this);
        });

        // Password strength validation
        document.getElementById('password').addEventListener('input', function() {
            const password = this.value;
            const strengthIndicator = document.getElementById('passwordStrength');
            
            if(!strengthIndicator) {
                const indicator = document.createElement('div');
                indicator.id = 'passwordStrength';
                indicator.style.fontSize = '0.8rem';
                indicator.style.marginTop = '0.5rem';
                this.parentNode.appendChild(indicator);
            }
            
            let strength = 'Ø¶Ø¹ÙŠÙØ©';
            let color = '#b91c1c';
            
            if(password.length >= 8) {
                strength = 'Ø¬ÙŠØ¯Ø©';
                color = '#f59e0b';
            }
            if(password.length >= 10 && /[0-9]/.test(password) && /[A-Za-z]/.test(password)) {
                strength = 'Ù‚ÙˆÙŠØ©';
                color = '#10b981';
            }
            
            strengthIndicator.textContent = `Ù‚ÙˆØ© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±: ${strength}`;
            strengthIndicator.style.color = color;
        });

        // Form Submission
        document.getElementById('companyRegisterForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const companyName = document.getElementById('companyName').value.trim();
            const commercialId = document.getElementById('commercialId').value.trim();
            const taxId = document.getElementById('taxId').value.trim();
            const activityType = document.getElementById('activityType').value.trim();
            const country = document.getElementById('countryCode').value;
            const companyPhone = document.getElementById('companyPhone').value.trim();
            const companyAddress = document.getElementById('companyAddress').value.trim();
            const companyEmail = document.getElementById('companyEmail').value.trim();
            const password = document.getElementById('password').value;

            const managerName = document.getElementById('managerName').value.trim();
            const managerPhone = document.getElementById('managerPhone').value.trim();
            const managerJob = document.getElementById('managerJob').value.trim();
            const managerEmail = document.getElementById('managerEmail').value.trim();

            // Validate phone format
            if(!window.InovationApp.validatePhone(companyPhone)) {
                UIHelper.showMessage('Ø±Ù‚Ù… Ù‡Ø§ØªÙ Ø§Ù„Ø´Ø±ÙƒØ© ØºÙŠØ± ØµØ­ÙŠØ­. ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ¨Ø¯Ø£ Ø¨Ù€ + ÙˆÙŠØªØ¨Ø¹Ù‡ 10-15 Ø±Ù‚Ù…');
                return;
            }

            // Validate email format
            if(!window.InovationApp.validateEmail(companyEmail)) {
                UIHelper.showMessage('Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù„Ù„Ø´Ø±ÙƒØ© ØºÙŠØ± ØµØ­ÙŠØ­');
                return;
            }

            if(!window.InovationApp.validateEmail(managerEmail)) {
                UIHelper.showMessage('Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù„Ù„Ù…Ø³Ø¤ÙˆÙ„ ØºÙŠØ± ØµØ­ÙŠØ­');
                return;
            }

            // Validate password strength
            if(password.length < 6) {
                UIHelper.showMessage('ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† 6 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„');
                return;
            }

            const registerBtn = this.querySelector('button');
            const originalText = UIHelper.showLoading(registerBtn);

            const companyData = {
                companyName,
                commercialId,
                taxId,
                activityType,
                companyPhone,
                companyAddress,
                companyEmail,
                password,
                managerName,
                managerPhone,
                managerJob,
                managerEmail
            };

            // Simulate API call
            setTimeout(() => {
                const result = window.InovationApp.registerCompany(companyData);
                
                if(result.success) {
                    UIHelper.showMessage('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø´Ø±ÙƒØ© Ø¨Ù†Ø¬Ø§Ø­! ÙŠØªÙ… ØªÙˆØ¬ÙŠÙ‡Ùƒ Ø¥Ù„Ù‰ ØµÙØ­Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„...', 'success');
                    UIHelper.redirect('login.html', 2000);
                } else {
                    UIHelper.showMessage(result.message);
                    UIHelper.hideLoading(registerBtn, originalText);
                }
            }, 2000);
        });
    </script>
</body>
</html>